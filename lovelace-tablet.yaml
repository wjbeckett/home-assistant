##########################################################################
#                                                                        #
#                              * SETTINGS *                              #
#                                                                        #
##########################################################################

preload_cards:
  [map, iframe, markdown]
preload_rows:
  [input-select-entity]

anchors:
  ⚓₁: &title
    entity: sensor.placeholder
    tap_action:
      action: none
    hold_action:
      action: none
    type: state-label
  ⚓₂: &title-style
    color: '#bcbebf'
    font-family: SF Text
    font-size: 2.4vw
    font-weight: 500
    max-width: 1px
    cursor: default

button_card_templates:
  base:
    aspect_ratio: 1/1
    show_state: true
    show_icon: false

  light:
    state: &button_state
      - value: 'on'
        styles:
          card: [background-color: 'rgba(255, 255, 255, 0.8)']
          name: [color: 'rgba(0, 0, 0, 0.6)']
          state: [color: 'rgba(0, 0, 0, 0.6)']
    custom_fields: &brightness_info
      info: >
        [[[ if (entity.state == 'on' && entity.attributes.brightness) {
        const brightness = Math.round(entity.attributes.brightness / 2.54);
        const radius = 20.5; const circumference = radius * 2 * Math.PI; 
        return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="${radius}" stroke="#b2b2b2" stroke-width="1.5" fill="none" style="
        transform: rotate(-90deg); transform-origin: 50% 50%; stroke-dasharray: ${circumference}; stroke-dashoffset: ${circumference - brightness / 100 * circumference};" />
        <text x="50%" y="54%" fill="#8d8e90" font-size="14" text-anchor="middle" alignment-baseline="middle">${brightness}<tspan font-size="10">%</tspan></text></svg>`; } ]]]
    styles:
      name: &button_styles_name
        [top: 57.7%, left: 11%, position: absolute, line-height: 2vw]
      state: &button_styles_state
        [top: 74%, left: 11%, position: absolute, line-height: 2vw]
      custom_fields:
        info: &circle_pos
          [top: 8.5%, left: 56.2%, width: 3.5vw, position: absolute, letter-spacing: 0.03vw]
      card: &button_styles_card
        [font-family: Sf Display, letter-spacing: 0.05vw, text-rendering: optimizeLegibility, font-weight: 400, color: 'rgba(255, 255, 255, 0.3)', font-size: 1.34vw, 
        background-color: 'rgba(115, 115, 115, 0.2)', border-radius: 0.8vw, box-shadow: none, transition: none]
    tap_action:
      ui_sound: &ui_sound |
        [[[ if (entity.state === 'off' && states['switch.fullykiosk_screensaver'].state === 'off') {
        hass.callService('media_player', 'play_media', {entity_id: 'media_player.tablet', media_content_id: '/local/sound/on.m4a', media_content_type: 'music'}); }
        else if (entity.state === 'on' && states['switch.fullykiosk_screensaver'].state === 'off') {
        hass.callService('media_player', 'play_media', {entity_id: 'media_player.tablet', media_content_id: '/local/sound/off.m4a', media_content_type: 'music'}); } ]]]
      action: toggle
      haptic: light
    hold_action: &light_action
      action: call-service
      service: browser_mod.popup
      service_data:
        title: '[[[ return entity.attributes.friendly_name ]]]'
        deviceID: this
        card:
          type: entities
          entities:
            - type: custom:light-popup-card
              entity: '[[[ return entity.entity_id ]]]'
              icon: none
              fullscreen: false
              brightnessWidth: 130px
              brightnessHeight: 360px
              borderRadius: 1.7em
              sliderColor: '#c7c7c7'
              sliderTrackColor: rgba(25, 25, 25, 0.9)
              actionSize: 4.5em
              actionsInARow: 2
              style: |
                #popup {
                  margin: -2.4em 0 1.4em 0; }
                #popup > div.range-holder > input[type=range] {
                  cursor: grab; }
                #brightnessValue {
                  color: rgba(255, 255, 255, 0.8); margin: -1.9em 0 0 0; font-size: 2em; font-weight: 400; 
                  position: absolute; z-index: 100; font-family: SF Display; letter-spacing: 0.02em; pointer-events: none; 
                  mix-blend-mode: difference; text-align:center; width: 3.4em; height: 3.4em; }
                #popup > div.range-holder > input[type=range]::-webkit-slider-thumb {
                  border: 0; eight: 0; width: 0; cursor: grabbing; }
                #popup > div.action-holder > div > div {
                  margin: 0.8em 0.5em -0.8em 0.5em; }
                #popup > div.action-holder > div:last-child > div:last-child > .color {
                  background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 80%), 
                  conic-gradient(rgb(120,39,230), rgb(230,34,231), rgb(228,5,136), rgb(228,25,25), rgb(229,105,30), rgb(232,226,46), 
                  rgb(125,230,41), rgb(52,232,40), rgb(51,231,92), rgb(52,232,224),rgb(32,125,229), rgb(18,39,229), rgb(120,39,230));
                  border-width: 2px; border-color: #e6e6e6; --size: 4.4em !important; }
              actions:
                - service: light.turn_on
                  service_data:
                    entity_id: '[[[ return entity.entity_id ]]]'
                    color_temp: 153
                  color: "#d8d9e1"
                - service: light.turn_on
                  service_data:
                    entity_id: '[[[ return entity.entity_id ]]]'
                    color_temp: 326
                  color: "#d5b08d"
                - service: light.turn_on
                  service_data:
                    entity_id: '[[[ return entity.entity_id ]]]'
                    color_temp: 500
                  color: "#ce944b"
                - service: browser_mod.popup
                  service_data:
                    title: '[[[ return entity.attributes.friendly_name ]]]'
                    deviceID: this
                    card:
                      type: entities
                      show_header_toggle: false
                      entities:
                        - entity: '[[[ return entity.entity_id ]]]'
                          secondary_info: last-changed
                        - type: custom:light-entity-card
                          entity: '[[[ return entity.entity_id ]]]'
                          brightness: false
                          color_temp: true
                          full_width_sliders: true
                          hide_header: true
                          show_slider_percent: true
                          smooth_color_wheel: true
                          consolidate_entities: true
  climate:
    template: ['base']
    state:
      - value: 'cool'
        styles:
          card:
            - background-color: rgba(255, 255, 255, 0.8)
          name:
            - color: rgba(0, 0, 0, 0.6)
          state:
            - color: rgba(0, 0, 0, 0.6)
          icon:
            - color: var(--paper-item-icon-active-color)
          custom_fields:
            info:
              - color: '#959698'
      - value: 'heat'
        styles:
          card:
            - background-color: rgba(255, 255, 255, 0.8)
          name:
            - color: rgba(0, 0, 0, 0.6)
          state:
            - color: rgba(0, 0, 0, 0.6)
          icon:
            - color: '#ef0000'
          custom_fields:
            info:
              - color: '#959698'
    styles:
      name: *button_styles_name
      state: *button_styles_state
      card: *button_styles_card
    tap_action:
      ui_sound: *ui_sound
      haptic: light
    hold_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        title: '[[[ return entity.attributes.friendly_name ]]]'
        deviceID: this
        card:
          type: thermostat
          entity: '[[[ return entity.entity_id ]]]'

  switch:
    state: *button_state
    styles:
      name: *button_styles_name
      state: *button_styles_state
      card: *button_styles_card
    tap_action:
      ui_sound: *ui_sound
      haptic: light

  room_nav:
    state: *button_state
    custom_fields: *brightness_info
    styles: 
      card: *button_styles_card
      custom_fields:
        info: *circle_pos
    tap_action:
      ui_sound: *ui_sound
      haptic: light
    hold_action: *light_action

  alarm_panel:
    styles:
      card: *button_styles_card
    tap_action:
      ui_sound: *ui_sound
      haptic: light
    state:
      - value: 'armed_away'
        icon: mdi:shield-lock-outline
        styles:
          icon:
            - color: '#d63a2d'
          card: [background-color: 'rgba(255, 255, 255, 0.8)']
          name: [color: 'rgba(0, 0, 0, 0.6)']
          state: [color: 'rgba(0, 0, 0, 0.6)']
      - value: 'disarmed'
        icon: mdi:shield-home-outline
        styles:
          icon:
            - color: '#6a6b74'

  icon_action:
    color: '#9da0a2'
    styles:
      card:
        [background: '#FFFFFF10', border-radius: 0.6em, box-shadow: none, 
        transition: none, width: 4em, height: 3.7em]

  name_action:
    styles:
      name:
        [display: flex, align-items: center, justify-content: center, margin-top: 0.5px]
      card:
        [background: '#FFFFFF10', color: '#9da0a2', border-radius: 0.6em, box-shadow: none, 
        transition: none, width: 100%, padding: 1em 1.4em 1em 1.2em, font-size: 1.06em, 
        font-weight: 500, letter-spacing: 0.015em]
    style: '#name > ha-icon {width: 1.4em; margin-right: 0.3em; }'

  media:
    state_display: >
      [[[ if (entity.attributes.media_title === 'Nothing playing' || entity.attributes.media_title === 'No title' && entity.state === 'paused' ) { return 'Nothing is playing'; }
      if (entity.attributes.media_title === 'No title' && entity.state === 'playing') { return 'No title'; }
      else { return entity.attributes.media_title; } ]]]
    custom_fields:
      media_image: >
        <svg viewBox="0 0 50 50" />
      blur: >
        [[[ if (entity.attributes.entity_picture != null) {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      overlay: >
        [[[ if (entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby' && entity.state != 'unavailable') {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      play_pause: >
        [[[ const style = `<style>.scale-up { animation: scale-up 0.3s; cubic-bezier(.05,.5,.3,1) 1; transform-origin: center center; }
        @keyframes scale-up { 0% { opacity: 0; transform: scale(0); } 100% { opacity: 1; transform: scale(1); } }</style>`;
        if (entity.state === 'playing') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/></svg>`; }
        if (entity.state === 'paused') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0l166 83L0 166z"/></svg>`; } ]]]
    tap_action: &media_tap_action
      sound: >
        [[[ if (states['switch.fullykiosk_screensaver'].state === 'off') {
        if (entity.state != 'off' || entity.state != 'idle' || entity.state != 'standby')
        hass.callService('media_player', 'play_media', {entity_id: 'media_player.tablet', media_content_id: '/local/sound/popup.m4a', media_content_type: 'music'}); } ]]]
      action: >
        [[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby') {
        return 'none'; } else { return 'call-service'; } ]]]
      service: media_player.media_play_pause
      service_data:
        entity_id: '[[[ return entity.entity_id ]]]'
      haptic: light
    styles:
      custom_fields:
        media_image:
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'linear-gradient(0deg, rgba(115, 115, 115, 0.2) 0%, rgba(115, 115, 115, 0.2) 100%)' 
          : 'linear-gradient(0deg, rgba(13,17,19,0.9) 0%, rgba(13,17,19,0) 50%), url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: cover, top: 0%, left: 0%, width: 100%, position: absolute]
        blur:
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: cover, top: 0%, left: 0%, width: 100%, filter: blur(4px), clip-path: inset(16vw 0 0 0), position: absolute]
        overlay:
          [background:
          "[[[ return entity.attributes.entity_picture == null ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)'; ]]]", 
          background-size: cover, z-index: 0, top: 16vw, left: 0%, width: 100%, opacity: 1, position: absolute]
        play_pause:
          [filter: 
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'drop-shadow(0 0 1.3vw rgba(0,0,0,0.7))'; ]]]", 
          fill: '#dedede', top: 0, right: 0, bottom: 0, left: 0, margin: auto, width: 21%, height: 21%, position: absolute]
        icon:
          [fill:
          "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') return '#9da0a2'; 
          else return 'rgba(255, 255, 255, 0.8)'; ]]]", 
          top: 5.35%, left: 5.35%, width: 2.95vw, position: absolute]
      name:
        [top: 79.8%, left: 5.3%, position: absolute, line-height: 2vw, z-index: 10]
      state:
        [top: 87.5%, left: 5.3%, position: absolute, line-height: 2vw, z-index: 10, 
        white-space: nowrap, overflow: hidden, text-overflow: ellipsis, max-width: 90%]
      card: 
        [<<: *button_styles_card, background-color: none, 
        color: &media_font_color "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') { return 'rgba(255, 255, 255, 0.3)'; }
        if ((entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby') && (entity.attributes.entity_picture == null)) {
        return 'rgba(0, 0, 0, 0.6)'; } else { return '#efefef'; } ]]]", 
        text-shadow: &media_text_shadow "[[[ if (entity.attributes.entity_picture == null) return 'none'; 
        else return '1px 1px 5px rgba(18, 22, 23, 0.9)' ; ]]]"]

  media_small:
    show_state: true
    show_icon: false
    tap_action: *media_tap_action
    hold_action:
      action: call-service
      service: browser_mod.popup
      service_data:
        title: '[[[ return entity.attributes.friendly_name ]]]'
        deviceID: this
        card:
          type: media-control
          entity: '[[[ return entity.entity_id ]]]'
    styles:
      custom_fields:
        icon:
          [fill:
          "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') return '#9da0a2'; 
          else return 'rgba(255, 255, 255, 0.8)'; ]]]", 
          top: 11.5%, left: 11.5%, width: 2.9vw, position: absolute]
      name: *button_styles_name
      state: *button_styles_state
      card: *button_styles_card

  shared_media:
    tap_action:
      action: >
        [[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby') {
        return 'none'; } else { return 'call-service'; } ]]]
      service: media_player.media_play_pause
      service_data:
        entity_id: '[[[ return entity.entity_id ]]]'
    hold_action:
      action: more-info
    styles:
      card:
        [background-color: "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') { return 'rgba(255, 255, 255, 0.3)'; }
        if ((entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby') && (entity.attributes.entity_picture == null)) {
        return 'rgba(0, 0, 0, 0.6)'; } else { return '#efefef'; } ]]]", 
        text-shadow: "[[[ if (entity.attributes.entity_picture == null) return 'none'; 
        else return '1px 1px 5px rgba(18, 22, 23, 0.9)' ; ]]]"]

  conditional_media:
    template: ['base', 'shared_media']
    state_display: >
      [[[ if (entity.attributes.media_title === 'Nothing playing' || entity.attributes.media_title === 'No title' && entity.state === 'paused' ) { return 'Nothing is playing'; }
      if (entity.attributes.media_title === 'No title' && entity.state === 'playing') { return 'No title'; }
      if (entity.attributes.media_content_type === 'tvshow') { return entity.attributes.media_series_title + ' - ' + entity.attributes.media_title; }
      if (entity.attributes.media_content_type === 'movie') { return entity.attributes.media_title; }
      if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') { return 'Nothing is playing'; }
      else { return entity.attributes.media_artist + ' - ' + entity.attributes.media_title; } ]]]
    custom_fields:
      media_image: >
        <svg viewBox="0 0 50 50" />
      blur: >
        [[[ if (entity.attributes.entity_picture != null) {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      overlay: >
        [[[ if (entity.state != 'off' && entity.state != 'idle' && entity.state != 'standby' && entity.state != 'unavailable') {
        return '<svg viewBox="0 0 50 50" />'; } ]]]
      play_pause: >
        [[[ const style = `<style>.scale-up { animation: scale-up 0.3s; cubic-bezier(.05,.5,.3,1) 1; transform-origin: center center; }
        @keyframes scale-up { 0% { opacity: 0; transform: scale(0); } 100% { opacity: 1; transform: scale(1); } }</style>`;
        if (entity.state === 'playing') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0h59.9v166H0zm106.1 0H166v166h-59.9z"/></svg>`; }
        if (entity.state === 'paused') { return `<svg viewBox="0 0 166 166">${style}<path class="scale-up" d="M0 0l166 83L0 166z"/></svg>`; } ]]]
    styles:
      custom_fields:
        media_image:
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'linear-gradient(0deg, rgba(115, 115, 115, 0.2) 0%, rgba(115, 115, 115, 0.2) 100%)' 
          : 'linear-gradient(0deg, rgba(13,17,19,0.9) 0%, rgba(13,17,19,0) 50%), url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: contain, top: 0%, left: 0%, width: 100%, position: absolute]
        blur:
          [background-image:
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'url(' + entity.attributes.entity_picture + ')'; ]]]", 
          background-size: cover, top: 0%, left: 0%, width: 100%, filter: blur(4px), position: absolute]
        overlay:
          [background:
          "[[[ return entity.attributes.entity_picture == null ? 'rgba(255, 255, 255, 0.8)' : 'rgba(0, 0, 0, 0.4)'; ]]]", 
          background-size: cover, z-index: 0, left: 0%, width: 100%, opacity: 1, position: absolute]
        play_pause:
          [filter: 
          "[[[ return entity.attributes.entity_picture == null ? 'none' : 'drop-shadow(0 0 1.3vw rgba(0,0,0,0.7))'; ]]]", 
          fill: '#dedede', top: 0, right: 0, bottom: 0, left: 0, margin: auto, width: 21%, height: 21%, position: absolute]
        icon:
          [fill:
          "[[[ if (entity.state === 'off' || entity.state === 'idle' || entity.state === 'standby' || entity.state === 'unavailable') return '#9da0a2'; 
          else return 'rgba(255, 255, 255, 0.8)'; ]]]", 
          top: 5.35%, left: 5.35%, width: 2.95vw, position: absolute]
        name:
          [top: 79.8%, left: 5.3%, position: absolute, z-index: 10]
        state:
          [top: 87.5%, left: 5.3%, position: absolute, z-index: 10, 
          white-space: nowrap, overflow: hidden, text-overflow: ellipsis, max-width: 90%]

  person:
    #state_display: 
    show_entity_picture: true
    state:
      - value: 'home'
        styles:
          card:
            - background-color: rgba(255, 255, 255, 0.8)
          name:
            - color: rgba(0, 0, 0, 0.6)
          state:
            - color: rgba(0, 0, 0, 0.6)
          custom_fields:
            info:
              - color: '#959698'
    styles:
      entity_picture:
          [clip-path: circle(50% at center), top: 7.5%, left: 11.2%, width: 3vw, position: absolute]
      custom_fields:
        last_changed: *circle_pos
    custom_fields:
      last_changed: >
        [[[ function time(c) {
        var s = (c / 1000); var m = (c / (1000 * 60)); var h = (c / (1000 * 60 * 60)); var d = (c / (1000 * 60 * 60 * 24));
        if (s < 60) { return parseInt(s) + 's'; } else if (m < 60) { return parseInt(m) + 'm'; }
        else if (h < 24) { return parseInt(h) + 'h'; } else { return parseInt(d) + 'd'; }
        }
        const last_changed = time(Date.now() - Date.parse(states[entity.entity_id].last_changed));
        const stroke_color = entity.state === 'home' ? '#b2b2b2' : '#313638'; 
        const fill_color = entity.state === 'home' ? 'none' : '#FFFFFF08';
        return `<svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20.5" stroke="${stroke_color}" stroke-width="1.5" fill="${fill_color}" />
        <text x="50%" y="54%" fill="#8d8e90" font-size="14" text-anchor="middle" alignment-baseline="middle">${last_changed}</text></svg>`; ]]]

  loader:
    custom_fields:
      loader: >
        [[[ if (states[entity.entity_id.replace(entity.entity_id.split('.')[0], 'input_boolean')].state === 'on') { 
        return '<img src="/local/loader.svg" width="100%">'; } ]]]
    styles:
      custom_fields:
        loader:
          [filter: "[[[ return entity.state === 'off' ? 'invert(1)' : 'none'; ]]]", 
          top: 3%, left: 60%, width: 3.7vw, position: absolute, opacity: 0.6]

kiosk_mode:
  user_settings:
    - users:
        - "tablet"
      kiosk: true
  
title: Beckett Home
views:

    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                              Room View                                                                    #
    #                                                                                                                                           #
    #############################################################################################################################################
    
  - title: Control Rooms
    icon: 'mdi:floor-plan'
    panel: true
    path: rooms
    badges: []    
    cards:
      - type: picture-elements    
        image: /local/ui/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          #- type: 'custom:text-element'
          #  text: 'Rooms'
          #  style:
          #    color: white
          #    font-size: 4vw
          #    font-weight: 500
          #    left: 60%
          #    top: 10%
          #    width: 10%            
          - type: custom:button-card
            name: Alarm
            icon: mdi:shield-home
            entity: alarm_control_panel.home_alarm
            show_state: false
            show_icon: true
            tap_action: !include lovelace/views/popup/alarm_panel.yaml
            style:
              top: 23.35%
              left: 40.31%
              width: 10%
            template: ['base', 'alarm_panel']
          - type: custom:button-card
            name: Kitchen
            icon: mdi:chef-hat
            entity: light.kitchen_lights
            show_state: false
            show_icon: true
            tap_action:
              action: toggle
              haptic: light
            style:
              top: 23.35%
              left: 52.31%
              width: 10%
            template: ['base', 'room_nav']
          - type: custom:button-card
            name: Lounge Room
            icon: mdi:sofa
            entity: light.bedroom_lamps
            show_state: false
            show_icon: true
            tap_action:
              action: toggle
              haptic: light
            style:
              top: 23.35%
              left: 64.31%
              width: 10%
            template: ['base', 'room_nav']
          - type: custom:button-card
            name: Bedroom
            icon: mdi:heart-outline
            entity: light.bedroom_lamps
            show_state: false
            show_icon: true
            tap_action:
              action: toggle
              haptic: light
            style:
              top: 43.35%
              left: 40.31%
              width: 10%
            template: ['base', 'room_nav']
          - type: custom:button-card
            name: Teddy's Room
            icon: mdi:pokeball
            entity: light.teddy_s_lamp
            show_state: false
            show_icon: true
            tap_action:
              action: toggle
              haptic: light
            style:
              top: 43.35%
              left: 52.31%
              width: 10%
            template: ['base', 'room_nav']
          - type: custom:button-card
            name: Ollie's Room
            icon: mdi:paw
            entity: light.ollie_s_lamp
            show_state: false
            show_icon: true
            tap_action:
              action: toggle
              haptic: light
            style:
              top: 43.35%
              left: 64.31%
              width: 10%
            template: ['base', 'room_nav']

            #################################################################
            #                                                               #
            #                             SIDEBAR                           #
            #                                                               #
            #################################################################

            #########################    BG IMAGE    #########################
          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            
            #########################    TIME AND DATE    #########################
          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
            
            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/rooms
            type: image
          - action: none
            image: /local/ui/sidebar/cleanUp_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/security
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/all
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            type: image
          - action: none
            image: /local/ui/sidebar/weather_off.png
            style:
              left: 11.7%
              top: 58%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: image  

            #########################    People at home    #########################
            
            #Optional label for people at Home (currently hidden with opacity: 0)
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              #opacity: 0
              top: 66%
              width: 10%
            text: 'People at home:'
            type: 'custom:text-element'
            
          - !include lovelace/views/sidebar/sidebar_william.yaml
          - !include lovelace/views/sidebar/sidebar_emily.yaml
          
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
            
            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 15
              - color: '#ffa31a'
                value: 30
              - color: '#ff1a1a'
                value: 40
            entities:
              - sensor.kitchen_sensor_temperature
              - sensor.outside_temp
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
                box-shadow: none !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:mini-graph-card'
            
            #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.warner
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:simple-weather-card'
            
            #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image
            
            #########################   Styled now playing Media Player    #########################
            
            # when the media player is playing, this overlaps the "Media" menu button

          - type: 'custom:mini-media-player'
            entity: media_player.kitchen_display
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                  background: #474A52 !important; 
              }
              .entity__info{
                height: 2.2vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }
              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }
              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: -4px 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                   Security                                                                                #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Security        
    icon: 'mdi:cctv'
    panel: true
    path: security
    cards:
      - type: picture-elements    
        image: /local/ui/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          - type: custom:button-card
            name: Alarm
            icon: mdi:shield-home
            entity: alarm_control_panel.home_alarm
            show_state: false
            show_icon: true
            tap_action: !include lovelace/views/popup/alarm_panel.yaml
            style:
              top: 23.35%
              left: 40.31%
              width: 10%
            template: ['base', 'alarm_panel']   
          
            
            #################################################################
            #                                                               #
            #                    SIDEBAR: Securit y                         #
            #                                                               #
            #################################################################

            #########################    BG IMAGE    #########################
          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            
            #########################    TIME AND DATE    #########################
          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
            
            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/rooms
            type: image
          - action: none
            image: /local/ui/sidebar/cleanUp_on.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/security
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/all
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            type: image
          - action: none
            image: /local/ui/sidebar/weather_off.png
            style:
              left: 11.7%
              top: 58%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: image  

            #########################    People at home    #########################
            
            #Optional label for people at Home (currently hidden with opacity: 0)
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              #opacity: 0
              top: 66%
              width: 10%
            text: 'People at home:'
            type: 'custom:text-element'
            
          - !include lovelace/views/sidebar/sidebar_william.yaml
          - !include lovelace/views/sidebar/sidebar_emily.yaml
          
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
            
            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 15
              - color: '#ffa31a'
                value: 30
              - color: '#ff1a1a'
                value: 40
            entities:
              - sensor.kitchen_sensor_temperature
              - sensor.outside_temp
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
                box-shadow: none !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:mini-graph-card'
            
            #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.warner
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:simple-weather-card'
            
            #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image
            
            #########################   Styled now playing Media Player    #########################
            
            # when the media player is playing, this overlaps the "Media" menu button

          - type: 'custom:mini-media-player'
            entity: media_player.kitchen_display
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                  background: #474A52 !important; 
              }
              .entity__info{
                height: 2.2vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }
              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }
              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: -4px 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                   Device Control                                                                          #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Control        
    icon: 'mdi:home'
    panel: true
    path: all
    cards:
      - type: picture-elements    
        image: /local/ui/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          - type: custom:button-card
            entity: light.bedroom_lamps
            style:
              top: 20.35%
              left: 30.31%
              width: 10%
            custom_fields:
              icon_hue: &icon_hue >
                [[[ const state = entity.state === 'on' ? 'animate' : null;
                return `<svg viewBox="0 0 50 50"><style>@keyframes animate{0%{transform: scale(0.85);}20%{transform: scale(1.1);}40%{transform: scale(0.95);}60%{transform: scale(1.03);}80%{transform: scale(0.97);}100%{transform: scale(1);}}.animate{animation: animate 0.8s; transform-origin: center;}</style>
                <path fill="#9da0a2" d="M27.4 47.3h-4.9s-.7.1-.7.8.4.9.7.9h4.9c.3 0 .7-.1.7-.9s-.7-.8-.7-.8zm3.3-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-3H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9-.1-.8-.9-.8-.9-.8zm0-2.9H19.3s-.8 0-.8.8.6.9.8.9h11.5c.2 0 .8-.1.8-.9s-.9-.8-.9-.8zm5.2-23.2c-3.3-5.3-7-5.6-10.9-5.6-3.8 0-8.4.4-10.9 5.6-.1.1-.1.3.1.7.4.8 3.3 7.2 3.2 18.8 0 1.1-.1 1.6 0 1.7 0 .1 0 .7 1.1.7h13c1 0 1-.5 1.1-.7v-1.7c-.1-11.6 2.8-18 3.2-18.8.1-.4.1-.5.1-.7"/>
                <path class="${state}" fill="var(--button-card-light-color-no-temperature)" d="M14.1 15.3c3.4-.3 7-.4 10.9-.4 3.8 0 7.5.2 10.9.4.4-.4.7-.8.9-1.1C39 8.5 38.9 6.5 38.9 6c-.2-4.4-8.4-5-12.1-5h0-3.4c-3.7 0-12 .5-12.1 5 0 .5-.1 2.5 2.1 8.2 0 .3.3.8.7 1.1z"/></svg>`; ]]]
            styles: &icon_hue_styles
              custom_fields:
                icon_hue:
                  [top: 11%, left: 4.5%, width: 3.05vw, position: absolute]
            template: ['base','light']     
          
            
            #################################################################
            #                                                               #
            #                    SIDEBAR: Device Control                    #
            #                                                               #
            #################################################################

            #########################    BG IMAGE    #########################
          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            
            #########################    TIME AND DATE    #########################
          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
            
            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/rooms
            type: image
          - action: none
            image: /local/ui/sidebar/cleanUp_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/security
            type: image
          - action: none
            image: /local/ui/sidebar/all_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/all
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            type: image
          - action: none
            image: /local/ui/sidebar/weather_off.png
            style:
              left: 11.7%
              top: 58%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: image  

            #########################    People at home    #########################
            
            #Optional label for people at Home (currently hidden with opacity: 0)
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              #opacity: 0
              top: 66%
              width: 10%
            text: 'People at home:'
            type: 'custom:text-element'
            
          - !include lovelace/views/sidebar/sidebar_william.yaml
          - !include lovelace/views/sidebar/sidebar_emily.yaml
          
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
            
            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 15
              - color: '#ffa31a'
                value: 30
              - color: '#ff1a1a'
                value: 40
            entities:
              - sensor.kitchen_sensor_temperature
              - sensor.outside_temp
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
                box-shadow: none !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:mini-graph-card'
            
            #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.warner
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:simple-weather-card'
            
            #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image
            
            #########################   Styled now playing Media Player    #########################
            
            # when the media player is playing, this overlaps the "Media" menu button

          - type: 'custom:mini-media-player'
            entity: media_player.kitchen_display
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                  background: #474A52 !important; 
              }
              .entity__info{
                height: 2.2vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }
              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }
              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: -4px 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                            Media View                                                                     #
    #                                                                                                                                           #
    #############################################################################################################################################
  - title: Media
    icon: 'mdi:play-circle'
    path: media
    panel: true
    badges: []
    cards:
      - type: picture-elements
        image: /local/ui/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
          upcoming-media-card ha-card{
                  background: none;
                  box-shadow: none !important;
                }
                upcoming-media-card ha-card div:nth-child(2) {
                  padding:0 !important;
                }
                .rece_poster{
                  width: 31% !important;
                  display: inline-block !important;
                  margin: 0% 0.2% !important;
                }
                .rece_svg_poster{
                  position: absolute !important;
                  bottom:-5%;
                  left:0;
                  width: 100% !important;
                }
                .rece_container_poster{
                  width:100% !important;
                  outline: none !important;
                  margin: 1% 1% !important;
                  overflow: hidden;
                }

                .rece_svg_poster > rect{
                  fill:none !important;
                }
                .card-header{
                  font-size: 1vw;
                  padding: 0;
                }
        elements:            
            ###########################################################################
            #                                                                         #
            #                 IF PROJECTOR NOT ON, SHOW SPOTIFY:                      #
            #                                                                         #
            ###########################################################################

            #  Mini Media Player Card:
            #  https://github.com/kalkih/mini-media-player
                
          - type: conditional
            conditions:
              - entity: media_player.plex_lounge_room_tv
                state_not: playing
            elements:
              - type: 'custom:mini-media-player'
                entity: media_player.will_ytube_music
                artwork: full-cover
                hide:
                  shuffle: false
                  icon_state: false
                style: |
                  :host {
                    left: 46% !important;
                    top: 32.8% !important;
                    width: 33% !important;
                    height: 50.3% !important;
                  }
                  ha-card{
                    border-radius: 1vw !important;
                    overflow: hidden !important;
                    height: 100%;
                  }
                  :host #primaryProgress{
                    background: #474A52 !important; 
                  }
              - type: 'custom:mini-media-player'
                entity: media_player.bedroom_speaker
                artwork: cover
              - type: 'custom:mini-media-player'
                entity: media_player.teddys_room
              - type: 'custom:mini-media-player'
                entity: media_player.ollies_room
              - type: 'custom:mini-media-player'
                entity: media_player.all_speakers
            
            # Spotify Playlists Card:
            # https://github.com/custom-cards/spotify-card
          - type: conditional
            conditions:
              - entity: media_player.plex_lounge_room_tv
                state_not: playing
            elements:
              - type: custom:stack-in-card
                style: | 
                  :host {
                      left: 79.5%; 
                      top: 32.8%;
                      width: 31%;
                      height: 50.3%;
                      border-radius: 1vw;
                  }
                  ha-card {
                      background: none !important;
                      box-shadow: none !important;
                  }
                cards:
                  - type: entities
                    entities:
                      - entity: input_select.ytube_music_player_playlist
                      - entity: input_select.ytube_music_player_source
                      - entity: input_select.ytube_music_player_speakers
                      - entity: input_select.ytube_music_player_playmode
                    title: Select
            
            ###########################################################################
            #                                                                         #
            #          IF PROJECTOR IS ON, SHOW PLEX & RECENTLY ADDED:                #
            #                                                                         #
            ###########################################################################

            # Mini Media Player Card:
            # https://github.com/kalkih/mini-media-player            
            
          - conditions:
              - entity: media_player.plex_lounge_room_tv
                state: playing
              - entity: media_player.spotify_luke_vink
                state_not: playing
            elements:
              - artwork: cover
                entity: media_player.plex_lounge_room_tv
                hide:
                  icon: true
                  mute: false
                  power: true
                  power_state: true
                info: short
                style: |
                  :host {
                    border-radius: 1vw;
                    overflow: hidden;
                    height: 300px;
                    box-shadow: none !important;
                    left: 50% !important;
                    top: 43% !important;
                    width: 42.3% !important;
                    height: 66%
                  }
                  ha-card {
                    border-radius: 1vw;
                    height: 100%;
                    overflow: hidden !important;
                    box-shadow: none !important;
                  }
                type: 'custom:mini-media-player'
            type: conditional
            
            # Upcoming Media Card:
            # https://github.com/custom-cards/upcoming-media-card
            # Enabled by, Plex Recently Added Sensor:
            # https://github.com/custom-components/sensor.plex_recently_added
            
          - conditions:
              - entity: media_player.plex_lounge_room_tv
                state: playing
              - entity: media_player.kitchen_display
                state_not: playing
            elements:
              - entity: sensor.recently_added_tv
                style:
                  left: 84%
                  top: 25%
                  width: 18%
                title: Recently Added Tv
                type: 'custom:upcoming-media-card'
            type: conditional
          - conditions:
              - entity: media_player.plex_lounge_room_tv
                state: playing
              - entity: media_player.kitchen_display
                state_not: playing
            elements:
              - entity: sensor.recently_added_movies
                style:
                  left: 84%
                  top: 59.5%
                  width: 18%
                title: Recently Added Movies
                type: 'custom:upcoming-media-card'
            type: conditional
            
            #################################################################
            #                                                               #
            #                             SIDEBAR                           #
            #                                                               #
            #################################################################

            #########################    BG IMAGE    #########################
          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            
            #########################    TIME AND DATE    #########################
          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
            
            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/rooms
            type: image
          - action: none
            image: /local/ui/sidebar/cleanUp_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/security
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/all
            type: image
          - action: none
            image: /local/ui/sidebar/media_on.png
            style:
              border-radius: 5vw
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            type: image
          - action: none
            image: /local/ui/sidebar/weather_off.png
            style:
              left: 11.7%
              top: 58%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: image  

            #########################    People at home    #########################
            
            #Optional label for people at Home (currently hidden with opacity: 0)
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              #opacity: 0
              top: 66%
              width: 10%
            text: 'People at home:'
            type: 'custom:text-element'
            
          - !include lovelace/views/sidebar/sidebar_william.yaml
          - !include lovelace/views/sidebar/sidebar_emily.yaml
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
            
            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 15
              - color: '#ffa31a'
                value: 30
              - color: '#ff1a1a'
                value: 40
            entities:
              - sensor.kitchen_sensor_temperature
              - sensor.outside_temp
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
                box-shadow: none !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:mini-graph-card'
            
            #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.warner
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:simple-weather-card'
            
            #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image
            
            #########################   Styled now playing Media Player    #########################
            
            # when the media player is playing, this overlaps the "Media" menu button

          - type: 'custom:mini-media-player'
            entity: media_player.kitchen_display
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                    padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                background: #474A52 !important; 
              }              
              .entity__info{
                height: 2.2vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #2B2E30;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }
              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }
              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: -4px 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            
    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                               Weather View                                                                #
    #                                                                                                                                           #
    #############################################################################################################################################

  - title: Weather
    icon: 'mdi:white-balance-sunny'
    panel: true
    path: weather
    badges: []
    cards:
      - type: picture-elements
        image: /local/ui/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        elements:
          - type: 'custom:buien-rain-forecast'
            fillColor: 'rgba(89, 160, 238, 0.2)'
            lat: -27.311890
            lineColor: 'rgba(89, 160, 238, 1)'
            update_interval: 20
            long: 152.959274
            style: |
              :host {
                left: 60.5%;
                top:  80%;
                width: 68%;
                overflow: hidden;
                height: 28%;
                background: none !important;
                box-shadow: none !important;
              }
              ha-card {
                height: 100%;
                background: none  !important;
                box-shadow: none !important;
                border-radius: 1vw;
                position: relative;
                font-size: 1vw !important;
              }
              .chart-container {
                  height:100%;
                  width:100%
              }
              #container {
                  height:100%;
                  width:100%;
                  padding: 0 !important;
                  margin: 0 !important;
              }
        
          - type: 'custom:weather-card'
            name: Warner
            entity: weather.home
            current: true
            details: true
            forecast: true
            hourly_forecast: false
            number_of_forecasts: 5
            icons: "/local/icons/weather/"
            style: |
              :host {
                left: 61.5%;
                top:  38%;
                width: 70%;
                overflow: hidden;
                height: 63%;
                background: none !important;
                box-shadow: none !important;
              }
              .title {
                color: #d2d7de !important;
              }
              .temp {
                color: #d2d7de !important;
              }
              .tempc {
                color: #d2d7de !important;
              }
              .day {
                color: #d2d7de !important;
              }
              .lowTemp {
                color: #d2d7de !important;
              }
              .precipitation {
                color: #d2d7de !important;
              }
              .current {
                margin-bottom: 7vw !important;
              }
              .variations {
                color: #d2d7de !important;
                margin-bottom: 4vw !important;
              }
              ha-card {
                height: 100%;
                background: none  !important;
                box-shadow: none !important;
                border-radius: 1vw;
                font-size: 1.2vw !important;
              }
              .forecast {
                padding: 0 2.5%;
                width: 95%;
              }
              .forecast .day:first-child {
                border-left: 0.1em solid #d9d9d9;
              }
              .forecast .day:last-child {
                border-right: 0.1em solid #d9d9d9;
              }
              .day .icon {
                width: 100px !important;
                height: 100px !important;
              }
              .current .icon.bigger {
                width: 10em !important;
                height: 10em !important;
              }



            #################################################################
            #                                                               #
            #                             SIDEBAR                           #
            #                                                               #
            #################################################################

            #########################    BG IMAGE    #########################
          - action: none
            hold_action:
              action: none
            image: /local/ui/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image
            
            #########################    TIME AND DATE    #########################
          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label
            
            #########################    MENU BUTTONS    #########################

          - action: none
            image: /local/ui/sidebar/rooms_off.png
            style:
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/rooms
            type: image
          - action: none
            image: /local/ui/sidebar/cleanUp_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/security
            type: image
          - action: none
            image: /local/ui/sidebar/all_off.png
            style:
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/all
            type: image
          - action: none
            image: /local/ui/sidebar/media_off.png
            style:
              left: 11.7%
              top: 50%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
            type: image
          - action: none
            image: /local/ui/sidebar/weather_on.png
            style:
              left: 11.7%
              top: 58%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: image  

            #########################    People at home    #########################
            
            #Optional label for people at Home (currently hidden with opacity: 0)
          - style:
              color: white
              font-size: 1vw
              font-weight: 300
              left: 8.8%
              #opacity: 0
              top: 66%
              width: 10%
            text: 'People at home:'
            type: 'custom:text-element'
            
          - !include lovelace/views/sidebar/sidebar_william.yaml
          - !include lovelace/views/sidebar/sidebar_emily.yaml
            
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 15.9%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
          - action: none
            image: /local/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 4.2vw
              left: 21.1%
              top: 72.2%
              width: 4.2vw
            tap_action: none
            type: image
            
            #########################    Minigraph to show temperature inside and out    #########################

          - color_thresholds:
              - color: '#4dd2ff'
                value: 15
              - color: '#ffa31a'
                value: 30
              - color: '#ff1a1a'
                value: 40
            entities:
              - sensor.kitchen_sensor_temperature
              - sensor.outside_temp
            icon: 'mdi:home-thermometer-outline'
            show:
              icon: true
              legend: false
              name: false
            style: |
              :host {
                left: 11.6%;
                top:  92.9%;
                width: 23.5%;
                overflow: hidden;
                height: 15%;
                background: none  !important;
                box-shadow: none !important;
              }
              .header {
                font-size: 1vw;
                position: absolute !important;
                width: 5% !important;
                padding: 0 !important;
                right: 20% !important;
                top: 15% !important;
              }
              ha-card {
                background: none  !important;
                padding: 0 !important;
                box-shadow: none !important;
              }
              .icon > ha-icon {
                width:1.8vw !important;
                height:1.8vw !important;
              }
              .state__time{
                font-size:0.9vw !important;
                margin-top: 0.2vw;
                font-weight: 300 !important;
                opacity: 0.4 !important;
              }
              .states {
                font-size: 0.5vw !important;
                padding: 1vw 0vw 0vw 0vw  !important;
                margin: auto !important;
                width: 68%;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:mini-graph-card'
            
            #########################    Mini Weather card    #########################
            
          - backdrop: false
            entity: weather.warner
            name: ' '
            style: |
              :host {
                left: 11.4%;
                top:  85.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 2.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/weather
            type: 'custom:simple-weather-card'
            
            #########################    Overlay shadow images    #########################
            
          - action: none
            image: /local/ui/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/ui/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image
            
            #########################   Styled now playing Media Player    #########################
            
            # when the media player is playing, this overlaps the "Media" menu button

          - type: 'custom:mini-media-player'
            entity: media_player.kitchen_display
            hide:
              controls: true
              name: true
              power: true
              source: true
              volume: true
              progress: true
            idle_view:
              after: 0.1
              when_idle: true
              when_paused: true
              when_standby: true
            style: |
              :host {
                left: 11.7%;
                top:  49.5%;
                width: 20.5078125%;
                border-radius: 5vw;
                overflow: hidden;
                height: 3.8vw;
                box-shadow: none !important;
              }
              ha-card {
                border-radius: 5vw;
                overflow: hidden !important;
                box-shadow: none !important;
                padding: 0.1vw 0.9vw 0.7vw 1.05vw !important;
              }
              ha-card.--inactive .mmp-player{
                opacity: 0 !important;
              }
              #primaryProgress{
                  background: #474A52 !important; 
              }
              .entity__info{
                height: 2.2vw;
                width: 65% !important;
                max-height: 20vw !important;
                font-size: 0.9vw !important;
                margin:0 0 0 1.04vw !important;
                display: inline-block !important;
              }
              div.mmp__bg{
                background: #1E2022;
              }
              ha-card.--inactive div.mmp__bg{
                background: none;
              }
              div.mmp-player {
                padding: 0vw;
                height: 100%;
              }
              ha-card {
                height: 100%;
              }
              mmp-powerstrip {
                width: 100%;
                display: block;
                padding:0;
              }
              ha-icon{
                display: block !important;
                height: 2vw !important;
                width: 2vw !important;
                margin: 0.3vw 1.5vw 0 0vw !important;
              }
              .entity__icon{
                float:right;
                padding: 0.1vw;
                width: 3vw !important;
                height: 3vw !important;
                min-width: 0 !important;
                min-height: 0 !important;
                margin:0 !important;
                display: inline-block !important;
              }
              .mmp-player__core {
                height: auto;
                width: 100% !important;
                margin-bottom: 0.1vw;
                display: block !important;
                position: absolute !important;
                bottom: 0;
              }
              .entity__info__media{
                max-height: 20vw !important;
              }
              .entity__info__media span::before{
                content: none !important
              }
              .attr__media_title{
                display:block;
                color: white;
                font-weight: 300;
                font-size: 1.2vw !important;
              }
              .attr__media_artist{
                font-size: 0.8vw !important;
                font-weight: 200;
                color: white;
              }
              .entity__artwork{
                display:inline-block;
                float: right;
                margin-right: 0 !important;
                display: inline-block;
                float: right;
                width: 2.2vw !important;
                height: 2.2vw !important;
                min-width: 0 !important;
                margin: -4px 1vw 0 0 !important;
              }
            tap_action:
              action: navigate
              navigation_path: /lovelace-tablet-yaml/media
    #############################################################################################################################################
    #                                                                                                                                           #
    #                                                               Testing View                                                                #
    #                                                                                                                                           #
    #############################################################################################################################################
  - title: Testing
    icon: 'mdi:view-dashboard'
    panel: false
    badges: []
    cards:
      - type: 'custom:mini-graph-card'
        entities:
          - entity: binary_sensor.kitchen_sensor_motion
            name: Kitchen motion sensor
            color: '#FF4FD6'         
        name: KITCHEN MOTION
        hours_to_show: 0.16
        points_per_hour: 1800
        update_interval: 1
        aggregate_func: max
        line_width: 2
        smoothing: false
        state_map:
            - value: "off"
              label: Clear
            - value: "on"
              label: Detected
      - type: 'custom:mini-graph-card'
        entities:
          - entity: binary_sensor.front_door_motion
            name: Front Door motion sensor
            color: '#FF4FD6'         
        name: FRONT DOOR MOTION
        hours_to_show: 0.16
        points_per_hour: 1800
        update_interval: 1
        aggregate_func: max
        line_width: 2
        smoothing: false
        state_map:
            - value: "off"
              label: Clear
            - value: "on"
              label: Detected
      - type: 'custom:mini-graph-card'
        color_thresholds:
          - color: '#4dd2ff'
            value: 15
          - color: '#ffa31a'
            value: 20
          - color: '#ff1a1a'
            value: 30
        entities:
          - sensor.kitchen_sensor_temperature
          - sensor.outside_temp
        icon: 'mdi:home-thermometer-outline'
      - type: custom:bom-weather-card
        title: BOM Weather
        entity_current_conditions: sensor.warner_icon_descriptor_0
        entity_temperature: sensor.warner_temp
        entity_forecast_high_temp_1: sensor.warner_temp_max_1
        entity_forecast_high_temp_2: sensor.warner_temp_max_2
        entity_forecast_high_temp_3: sensor.warner_temp_max_3
        entity_forecast_high_temp_4: sensor.warner_temp_max_4
        entity_forecast_high_temp_5: sensor.warner_temp_max_5
        entity_forecast_icon_1: sensor.warner_icon_descriptor_1
        entity_forecast_icon_2: sensor.warner_icon_descriptor_2
        entity_forecast_icon_3: sensor.warner_icon_descriptor_3
        entity_forecast_icon_4: sensor.warner_icon_descriptor_4
        entity_forecast_icon_5: sensor.warner_icon_descriptor_5
        entity_forecast_low_temp_1: sensor.warner_temp_min_1
        entity_forecast_low_temp_2: sensor.warner_temp_min_2
        entity_forecast_low_temp_3: sensor.warner_temp_min_3
        entity_forecast_low_temp_4: sensor.warner_temp_min_4
        entity_forecast_low_temp_5: sensor.warner_temp_min_5
        entity_summary_1: sensor.warner_short_text_1
        entity_summary_2: sensor.warner_short_text_2
        entity_summary_3: sensor.warner_short_text_3
        entity_summary_4: sensor.warner_short_text_4
        entity_summary_5: sensor.warner_short_text_5
        entity_sun: sun.sun
